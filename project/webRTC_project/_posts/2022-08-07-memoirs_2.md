---
layout: post
title: project_week_2
categories: [Project]
tags: [project]
description: >
  프로젝트 개발 2주차
invert_sidebar: false
---
# 📜 프로젝트 개발 2주차 회고

## 🤔 [React] 회원관리.. 리덕스? RTK?

> 처음엔 열정에 차서 “리덕스를 사용해봐야지!” 하고 생각했다. 리덕스의 동작 흐름을 공부하고, 적용해보려고 했더니 리덕스를 편하게 쓸 수 있게 도와주고 공식문서에서도 권장하고 있는 Redux-ToolKit(RTK)이 있음을 알게되었다. 그래서 또 RTK의 사용법을 공부했다..
> 

> 먼저 Redux를 공부하고 보니까 이해하기 더 수월하긴 했다. 그리고 그 다음은 로그인 처리 방법에 대해 알아보았다. 백엔드쪽에서는 JWT를 이용했고 로그인 했을 때 AccessToken, RefreshToken 두개만 넘겨주도록 되어있다고 했다.
> 
> 
> 그래서 토큰에 대해 알아보니, 두개의 토큰을 어디에 저장하고 다루느냐에 따라 보안문제 발생여부가 달랐다. 그래서 쿠키에는 refreshToken을 저장하고, store에는 accessToken만 저장하기로 했다. 
> 

> Redux로 다루기 위해 필요한 코드들을 작성하고 테스트 후, 의도한 바에 각 토큰을 처리할 수 있었다. 그런데 처리하고 나서 깨달았는데 Redux에 저장하게 되면 새로고침을 할 시 그 값이 날아간다는 것이다.. 그걸 다하고나서야 깨달았다. 날아갈 경우, refreshToken을 통해 accessToken을 다시 재발급 받아서 사용하는 방법을 생각했지만, 이미 생각보다 로그인 관련에 시간을 많이 들였던 터라 storage에 저장해서 꺼내쓰는 방법을 선택했다. 토큰의 값을 서비스 사용 중에 바꾸진 않을 것이니까 차선책으로 선택하게 되었다.. 회원관리를 위한 충분한 고민과 Redux에 대해 공부해본 것으로 만족하기로 했다.
> 

## ⚠️ [Error]다양한 오류와 경험

> 그리고 개발하면서 다양한 오류들을 만났다. 정말 한끝차이 오타에서 비롯된 오류부터, 생전 처음 봐서 무슨 말인지도 모르겠는 오류까지.. 사소하다고 해도 나는 처음 겪는 오류니까 그래 이번엔 해결하는데 좀 걸려도, 다음에는 더 쉽게 해결하겠다 라는 마인드로 하나씩 헤쳐 나갔다.
> 

> 백엔드에서 Swagger를 만들어주기 전까지 PostMan을 이번에 처음으로 적극적으로 사용했다. 사실 이제까지 400, 500, 404에러가 나오면 매번 헷갈려서 구글링을 하고 ‘아 맞다’를 외치곤 했는데 이번에 반복적으로 겪다보니 이제는 익숙해지게 되었다. Media Type이라는 오류도 종종 나왔는데, Header 의 Content-Type을 알맞게 지정해주지 않아서 생기는 문제였다. PostMan을 통해 백엔드에도 필요한 부분에 대해서 소통하기 쉬웠다.
> 

> CORS에러를 만나기도 했는데, package.json에 **"proxy": "https://xxx.com"** 코드를 추가함으로써 해결할 수 있었다. 다른 방법으로는 라이브러리를 활용할 수도 있다고 하는데, 다음에 기회되면 활용해볼 생각이다.
> 

> 콘솔때문에 에러가 나기도 했다. 버튼을 클릭하면 API를 호출해서 어떤 정보가 등록되도록 코드를 작성했었다. 하지만 두번을 클릭해야 제대로 등록이 됐었는데, 클릭 후 확인을 위해서 작성해두었던 콘솔문에서 출력하는 데이터에 대해 참조방법이 잘못되어서 그런 에러가 발생하고 있었다.
> 

## 💾 [DB] ERD 다이어그램에서의 의존성

> 처음에 간트차트를 작성할 땐, UI나 로직이 비슷한 화면들끼리 묶어서 작성했었다. 그래야 비슷한 작업이니 빨리 될 것이라고 생각했다. 하지만 간과했던 것이 우리 ERD 다이어그램이였다. 우리팀의 ERD다이어그램은 하나의 table에서 시작해서 다른 테이블들이 뻗어나가는 구조를 띄고 있다. 그래서 만약에 하위 테이블의 데이터부터 생각하면, 결국 자꾸 위의 데이터들이 먼저 필요하게 되었다. 그런 부분을 간과했기 때문에 개발과정에서 API명세서의 수정도 여러 번 발생하게 되었다. 프론트쪽에서도 보낼 데이터 , 필요한 데이터를 명세서에 명시하지 않았던 점에서 부족했음을 느꼈다. 이런 부분은 정말 다음 프로젝트 때 확실하게 반영할 수 있을 것 같다.
> 

## 📌 [리액트] 컴포넌트 분리

> 리액트로 본격적인 프로젝트를 해보는 것은 처음이라, 처음부터 잘하겠다는 욕심을 버렸었다. 구현에 목표를 두고 개선해나가자는 것을 목표로 삼았었다.
> 

> 그래서 구현에만 몰두해서 진행을 하였는데 하다보니 자연스레 ‘아 이거는 분리하고 싶다’라는 생각이 드는 부분들이 나왔다. 또 필요해서 썼던 코드를 복붙하고 있다던지, 이 부분은 분리해서 위에서 보낸 props에 따라 다른 내용을 가져오면 좋겠다,, 이런 것들이였다. 최대한 많은 코드들을 컴포넌트화하기 보다는 눈에 띄게 반복되는 부분들만 분리하는 과정을 거쳤다.
> 

> 코드도 처음엔 무작정 작성했는데, 아직은 많이 부족하지만 조금씩 깔끔하게 정리하면서 이전보다는 나아진 모습을 보이고 있다!
>